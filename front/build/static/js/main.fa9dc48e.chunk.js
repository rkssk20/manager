(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{198:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(13),c=n.n(r),o=n(17),s=n(12),l=n(6),u=n(48);var j=function(){var e=Object(u.b)(),t=e.user,n=e.isLoading,a=Object(i.useState)("loading"),r=Object(l.a)(a,2),c=r[0],o=r[1];return Object(i.useEffect)((function(){if(document.cookie.includes("auth0.is.authenticated")){if(n)return;var e={id:t.sub,myAccount:!0};fetch("http://localhost:3100/profile",{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return o(e[0])})).catch((function(){o("empty")}))}else o("empty")}),[t,n]),c},d=n(39),h=n.n(d),b=n(238),f=n(239),O=n(240),m=n(59),p=n(202),x=n(141),g=n(242),v=n(243),y=n(244),w=n(245),k=n(126),S=n.n(k),_=n(127),C=n.n(_),z=n(128),I=n.n(z),D=n(97),R=n.n(D),E=n(129),N=n.n(E),W=n(67),H=n.n(W),B=n(80),F=n.n(B),P=n(1),T=h()((function(e){return{header:{maxWidth:"100%",padding:"0 calc((100% - 678px) / 2)",left:0,right:0,backgroundColor:"rgba(255,255,255,0.8)",boxShadow:"none",zIndex:3,"&.MuiAppBar-positionFixed":{right:"initial"}},item:{fontSize:15,justifyContent:"center","&.MuiListItem-root":{height:68}},footer:{maxWidth:"100%",height:60,padding:"0 calc((100% - 678px) / 2)",backgroundColor:"white",zIndex:5,position:"fixed",bottom:0,left:0,right:0,"&.Mui-selected":{color:e.primary}},action:{"&.MuiBottomNavigationAction-root":{minWidth:"calc((100% / 5) - 24px)"}}}})),M={maxWidth:678,minHeight:50},L={margin:"auto",fontSize:23,color:"black",postion:"absolute",left:0,right:0,cursor:"pointer",userSelect:"none"},A={position:"absolute",right:10};var V=function(){var e=Object(o.g)(),t=Object(i.useContext)(Ki),n=Object(u.b)().logout,a=Object(i.useState)(""),r=Object(l.a)(a,2),c=r[0],j=r[1],d=Object(i.useState)(null),h=Object(l.a)(d,2),k=h[0],_=h[1],z=Object(i.useState)(e.pathname),D=Object(l.a)(z,2),E=D[0],W=D[1],B=Object(b.a)("(min-width:500px)"),V=T();Object(i.useEffect)((function(){"empty"!==t&&"loading"!==t&&j(t.user_id)}),[t]),Object(i.useEffect)((function(){E!==e.pathname&&W(e.pathname)}),[e.pathname,E]);var J=function(){_(null)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(f.a,{className:V.header,postion:"static",children:Object(P.jsxs)(O.a,{style:M,children:[Object(P.jsx)(m.a,{style:L,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},variant:"h3",children:"Audience"}),0===e.pathname.indexOf("/account/"+c)&&"loading"!==t&&"empty"!==t&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(p.a,{style:A,"aria-controls":"simple-menu",onClick:function(e){_(e.currentTarget)},children:Object(P.jsx)(S.a,{style:{fontSize:25}})}),Object(P.jsxs)(x.a,{id:"simple-menu",anchorEl:k,keepMounted:!0,open:Boolean(k),onClose:J,children:[Object(P.jsxs)(g.a,{className:V.item,onClick:J,component:s.b,to:"/setting",children:[Object(P.jsx)(C.a,{style:{margin:"0 16px 0 0"},fontSize:"large"}),"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u8a2d\u5b9a"]}),Object(P.jsx)(v.a,{}),Object(P.jsx)(g.a,{className:V.item,onClick:function(){n({returnTo:window.location.origin})},children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})]})]})]})}),Object(P.jsxs)(y.a,{className:V.footer,value:E,onChange:function(e,t){W(t)},children:[Object(P.jsx)(w.a,{className:V.action,label:B&&"Timeline",value:"/timeline",component:s.b,to:"/timeline",icon:Object(P.jsx)(I.a,{style:{fontSize:40}})}),Object(P.jsx)(w.a,{className:V.action,label:B&&"Search",value:"/search",component:s.b,to:"/search",icon:Object(P.jsx)(R.a,{style:{fontSize:40}})}),Object(P.jsx)(w.a,{className:V.action,label:B&&"Ranking",value:"/",component:s.b,to:"/",icon:Object(P.jsx)(N.a,{style:{fontSize:40}})}),Object(P.jsx)(w.a,{className:V.action,label:B&&"Review",value:"/review",component:s.b,to:"/review",icon:Object(P.jsx)(H.a,{style:{fontSize:40}})}),"loading"===t?Object(P.jsx)(w.a,{disabled:!0,className:V.action,label:B&&"Account",icon:Object(P.jsx)(F.a,{style:{fontSize:40}})}):Object(P.jsx)(w.a,{className:V.action,label:B&&"Account",value:"/account/"+c,component:s.b,to:"/account/"+c,icon:Object(P.jsx)(F.a,{style:{fontSize:40}})})]})]})},J=n(33);var q=function(e,t){var n=Object(i.useContext)(Ki),a=Object(i.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1],s=Object(i.useState)(!0),u=Object(l.a)(s,2),j=u[0],d=u[1];return Object(i.useEffect)((function(){if(e){var i={user_id:n.user_id,page:t};fetch("http://localhost:3100/posts",{method:"POST",body:JSON.stringify(i),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){o(0===t?e:function(t){return[].concat(Object(J.a)(t),Object(J.a)(e))}),0===e.length&&d(!1)}))}}),[e,t,n.user_id]),{postData:c,hasMore:j}},G=n(203),Q=n(246),U=n(264),X=n(247),Z=n(248),K={width:45,height:"auto"},Y={fontSize:18,marginRight:10},$={fontSize:13,color:"#757575"};var ee=function(e){var t=Object(o.f)(),n=function(n){n.stopPropagation(),t.push("/account/"+e.user_id)};return Object(P.jsxs)(G.a,{children:[Object(P.jsx)(Q.a,{onClick:n,children:Object(P.jsx)(U.a,{style:K,src:e.picture,alt:"\u30e6\u30fc\u30b6\u30fc\u30a2\u30a4\u30b3\u30f3"})}),Object(P.jsx)(X.a,{children:Object(P.jsxs)(Z.a,{component:"button",onClick:n,color:"inherit",children:[Object(P.jsx)("span",{style:Y,children:e.user_name}),Object(P.jsxs)("span",{style:$,children:["@",e.user_id]})]})})]})},te=n(36),ne=n.n(te),ie={width:"calc(100% - 32px)",margin:"0 16px",borderRadius:5,border:"1px solid rgba(0, 0, 0, 0.12)"},ae={maxWidth:120,maxHeight:100,borderRadius:5},re={width:100,height:"auto"},ce={width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},oe={fontSize:15,textAlign:"center",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.5,maxHeight:44},se={fontSize:13,textAlign:"center",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.5,maxHeight:38};var le=function(e){return Object(P.jsxs)(G.a,{style:ie,children:[e.image?Object(P.jsx)("img",{style:ae,src:e.image,alt:"\u30a4\u30e1\u30fc\u30b8"}):Object(P.jsx)(ne.a,{style:re}),Object(P.jsxs)("div",{style:ce,children:[Object(P.jsx)(m.a,{style:oe,children:e.title}),Object(P.jsx)(m.a,{style:se,children:e.name&&e.name})]})]})},ue=n(249),je=n(263),de=n(131),he=n.n(de),be=n(132),fe=n.n(be),Oe=n(130),me=n.n(Oe),pe={fontSize:15,width:"calc(100% - 43px)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.8,maxHeight:54},xe={filter:"blur(8px)",fontSize:15,width:"calc(100% - 43px)",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.8,maxHeight:"54"},ge={fontSize:15,lineHeight:1.8,width:"calc(100% - 43px)"},ve={fontSize:15,position:"absolute",left:"50%",transform:"translateX(-50%)",WebkitTransform:"translateX(-50%)",display:"flex",alignItems:"center"},ye={marginRight:0,position:"absolute",top:0,right:16},we={marginRight:0,position:"absolute",bottom:0,right:16},ke={width:25,height:"auto"};var Se=function(e){var t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)(G.a,{children:[Object(P.jsx)(m.a,{style:a?ge:0===e.neta?pe:xe,id:e.review_id,children:e.review}),!a&&1===e.neta&&Object(P.jsxs)(m.a,{style:ve,color:"primary",children:[Object(P.jsx)(me.a,{}),"\u30cd\u30bf\u30d0\u30ec\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059"]}),Object(P.jsx)(ue.a,{style:a?we:ye,control:Object(P.jsx)(je.a,{icon:Object(P.jsx)(he.a,{style:ke}),checkedIcon:Object(P.jsx)(fe.a,{style:ke}),name:"expand",color:"default",checked:a,onClick:function(e){e.stopPropagation(),r(!a)}})})]})},_e=n(250),Ce=n(251),ze=n(241),Ie=n(252),De=h()((function(){return{dialog:{"&.MuiDialog-root":{zIndex:"4 !important"},"&.MuiPaper-paper":{height:250,width:250}}}})),Re={width:200,fontSize:15,fontWeight:600},Ee={height:80,display:"flex",justifyContent:"center"},Ne={width:150,height:50,fontSize:15},We={display:"flex",justifyContent:"center"},He={fontSize:15,textAlign:"center"};var Be=function(){var e=Object(u.b)().loginWithRedirect,t=Object(o.g)(),n=De();return Object(P.jsxs)(_e.a,{className:n.dialog,open:!0,children:[Object(P.jsx)(Ce.a,{children:Object(P.jsx)(m.a,{style:Re,children:"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044"})}),Object(P.jsxs)(ze.a,{children:[Object(P.jsx)(G.a,{style:Ee,children:Object(P.jsx)(Ie.a,{style:Ne,variant:"contained",disableElevation:!0,fontSize:"large",color:"primary",onClick:function(){var n;switch(t.pathname){case"/account/":n="/";break;default:n="/"}e({redirectUri:"https://www.audience.cf".concat(n)})},children:"\u7c21\u5358\u30ed\u30b0\u30a4\u30f3"})}),Object(P.jsx)(G.a,{style:We,children:Object(P.jsxs)(m.a,{style:He,children:["\u78ba\u8a8d\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3059\u3002",Object(P.jsx)("br",{}),"\u9077\u79fb\u5148\u3067ID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u304c",Object(P.jsx)("br",{}),"\u81ea\u52d5\u3067\u5165\u529b\u3055\u308c\u307e\u3059\u3002"]})})]})]})},Fe=n(134),Pe=n.n(Fe),Te=n(133),Me=n.n(Te),Le={display:"flex",alignItems:"center"},Ae={fontSize:13,minWidth:60.97};var Ve=function(e){var t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)(""),o=Object(l.a)(c,2),s=o[0],u=o[1],j=Object(i.useState)(!1),d=Object(l.a)(j,2),h=d[0],b=d[1],f=Object(i.useContext)(Ki);return Object(i.useEffect)((function(){e.likes&&(u(e.likes),e.Ilike===f.user_id&&r(!0))}),[e.likes,e.Ilike,f.user_id]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{style:Le,children:[Object(P.jsx)(ue.a,{style:{marginRight:0},control:Object(P.jsx)(je.a,{icon:Object(P.jsx)(Me.a,{fontSize:"large"}),checkedIcon:Object(P.jsx)(Pe.a,{fontSize:"large"}),name:"checkedH",color:"primary",checked:a,onClick:function(t){if(t.stopPropagation(),"empty"===f)b(!0);else{r(!a);var n={review_id:e.review_id,user_id:f.user_id,check:!a};a?(u(s-1),fetch("http://localhost:3100/unLike",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).catch((function(){r(a),u(s)}))):(u(s+1),fetch("http://localhost:3100/like",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).catch((function(){r(a),u(s)})))}},disableRipple:!1})}),Object(P.jsx)(m.a,{style:Ae,children:s>0&&(String(s).length<5?s:0===String(s).slice(-4).slice(0,1)?String(s).slice(0,-4)+"\u4e07":String(s).slice(0,-4)+"."+String(s).slice(-4).slice(0,1)+"\u4e07")})]}),h&&Object(P.jsx)(Be,{})]})},Je=n(265),qe=n(135),Ge=n.n(qe),Qe={display:"flex",flexDirection:"row-reverse",alignItems:"center",justifyContent:"space-between"},Ue={display:"flex",alignItems:"center"};var Xe=function(e){var t=Object(i.useContext)(Ki),n=new Date(e.created_at),a=new Date-n;return Object(P.jsxs)(G.a,{style:Qe,children:[Object(P.jsxs)("div",{style:Ue,children:[e.user_id===t.user_id&&Object(P.jsx)(p.a,{style:{marginRight:10},onClick:function(t){t.stopPropagation();var n={review_id:e.review_id};fetch("http://localhost:3100/deletePost",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.text()})).then((function(e){"success"===e&&window.location.reload()}))},children:Object(P.jsx)(Ge.a,{fontSize:"large"})}),!e.ranking&&Object(P.jsx)(Ve,{likes:e.likes,review_id:e.review_id,Ilike:e.Ilike})]}),Object(P.jsxs)("div",{style:Ue,children:[e.star>0&&Object(P.jsx)(Je.a,{style:{marginRight:10},defaultValue:e.star/2,precision:.5,size:"large",readOnly:!0}),Object(P.jsx)("span",{style:{fontSize:13},children:a<36e5?Math.floor(a/1e3/60)%60+"\u5206\u524d":a<864e5?Math.floor(a/1e3/60/60)%24+"\u6642\u9593\u524d":a<2592e6?Math.floor(a/1e3/60/60/24)+"\u65e5\u524d":n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()})]})]})},Ze={width:"100%",padding:"10px 0"};function Ke(e){var t=Object(o.f)();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(G.a,{style:{padding:0},button:!0,onClick:function(){var n=e.item.work_id+"-"+e.item.genru;t.push("/work/"+n)},ref:e.lastElementRef&&e.lastElementRef,children:Object(P.jsxs)(ze.a,{style:Ze,children:[Object(P.jsx)(ee,{picture:e.item.picture,user_name:e.item.user_name,user_id:e.item.user_id}),!e.work&&Object(P.jsx)(le,{image:e.item.image,title:e.item.title,name:e.item.name}),e.item.review&&Object(P.jsx)(Se,{review:e.item.review,neta:e.item.neta,review_id:e.item.review_id}),Object(P.jsx)(Xe,{user_id:e.item.user_id,star:e.item.star,created_at:e.item.created_at,likes:e.item.likes,review_id:e.item.review_id,Ilike:e.item.Ilike&&e.item.Ilike})]})}),Object(P.jsx)(v.a,{})]})}var Ye=function(e){return Object(P.jsx)(ze.a,{style:{width:"100%",padding:0},children:e.postData.map((function(t,n){return e.postData.length!==n+1?Object(P.jsx)(Ke,{item:t,work:e.work},t.review_id):Object(P.jsx)(Ke,{item:t,work:e.work,lastElementRef:e.lastElementRef},t.review_id)}))})};var $e=function(e){return Object(P.jsxs)(m.a,{style:{fontSize:15},children:[e.account?"\u5b58\u5728\u3057\u306a\u3044\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3059\u3002":e.timeline?"\u6295\u7a3f\u304c\u5b58\u5728\u3057\u307e\u305b\u3093\u3002":"\u5b58\u5728\u3057\u306a\u3044\u30da\u30fc\u30b8\u3067\u3059\u3002",Object(P.jsx)("br",{}),e.timeline?Object(P.jsx)(s.b,{to:"/review",style:{color:"#1976d2"},children:"\u4f5c\u54c1\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b"}):Object(P.jsx)(s.b,{to:"/",style:{color:"#1976d2"},children:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8\u3078\u623b\u308b"})]})};var et=function(){var e=Object(i.useContext)(Ki),t=Object(i.useState)(0),n=Object(l.a)(t,2),a=n[0],r=n[1],c=q(e,a),o=c.postData,s=c.hasMore,u=Object(i.useRef)(),j=Object(i.useCallback)((function(e){u.current&&u.current.disconnect(),u.current=new IntersectionObserver((function(e){e[0].isIntersecting&&s&&r((function(e){return e+1}))})),e&&u.current.observe(e)}),[s]);return o?o.length>0?Object(P.jsx)(Ye,{postData:o,lastElementRef:j}):Object(P.jsx)($e,{timeline:!0}):""},tt=n(38),nt=n(57);var it=function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){fetch("http://localhost:3100/userRanking").then((function(e){return e.json()})).then((function(e){return a({user:e})}))}),[]),n};var at=function(e,t){var n=Object(i.useState)(null),a=Object(l.a)(n,2),r=a[0],c=a[1],o=Object(i.useContext)(Ki);return Object(i.useEffect)((function(){if(e){var t={name:e,user_id:o.user_id};fetch("http://localhost:3100/account",{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){0===e.length?c(["empty"]):c(e)}))}}),[e,t,o.user_id]),r},rt=n(143);var ct=function(e){var t={height:50,marginLeft:16,marginTop:e.margin?30:0,display:"flex",alignItems:"center",userSelect:"none"};return Object(P.jsxs)(rt.a,{square:!0,elevation:0,style:t,children:[e.icon,Object(P.jsxs)(m.a,{style:{fontSize:18,marginLeft:10},children:["\u4eba\u6c17\u306e",e.text]})]})},ot=n(205),st=n(253),lt=Object(ot.a)((function(){return{badge:{width:25,height:25,borderRadius:50,fontSize:13}}})),ut={width:"100%",display:"flex",flexDirection:"row"},jt={width:"calc(100% / 3)",display:"flex",flexDirection:"column",borderRadius:5},dt={width:60,height:"auto",marginBottom:10},ht={fontSize:15,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},bt={fontSize:13,marginBottom:10},ft={fontSize:13,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",maxHeight:"57",lineHeight:1.5};var Ot=function(e){var t=Object(o.f)(),n=lt();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(ct,{text:"\u30e6\u30fc\u30b6\u30fc",margin:e.margin&&!0,icon:Object(P.jsx)(F.a,{style:{fontSize:30},color:"primary"})}),Object(P.jsx)(ze.a,{style:ut,children:e.user.map((function(e,i){return Object(P.jsxs)(G.a,{style:jt,button:!0,onClick:function(){t.push("/account/"+e.user_id)},children:[Object(P.jsx)(st.a,{classes:{badge:n.badge},badgeContent:i+1,color:"primary",anchorOrigin:{vertical:"top",horizontal:"left"},children:Object(P.jsx)(U.a,{style:dt,src:e.picture})}),Object(P.jsx)(m.a,{style:ht,children:e.user_name}),Object(P.jsxs)(m.a,{style:bt,children:["@",e.user_id]}),Object(P.jsx)(m.a,{style:ft,children:e.profile})]},i)}))})]})},mt=n(266),pt={width:"80%",margin:"auto",borderRadius:5,backgroundColor:"#eee",display:"flex"},xt={width:"calc(100% - 40px)",paddingLeft:"12px",fontSize:15};var gt=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)("form",{style:pt,children:[Object(P.jsx)(mt.a,{style:xt,placeholder:e.placeholder,onChange:function(e){r(e.target.value)}}),Object(P.jsx)(p.a,{type:"submit","aria-label":"search",onClick:function(t){e.setSearchSubmit(a),t.preventDefault()},children:Object(P.jsx)(R.a,{fontSize:"large"})})]})},vt=n(262),yt=n(254);var wt=function(e){var t={fontSize:13,minWidth:"calc(100% / ".concat(e.tabChoice.length,")")};return Object(P.jsx)(vt.a,{style:{width:"100%",backgroundColor:"rgba(255,255,255,0.8)",position:"sticky",top:50,zIndex:3},value:e.tabValue,onChange:function(t,n){e.setTabValue(n)},indicatorColor:"primary",children:e.Link?e.tabChoice.map((function(e){return Object(P.jsx)(yt.a,{style:t,label:"/works"===e.slice(-6)?"\u9451\u8cde\u8a18\u9332":"/likes"===e.slice(-6)?"\u3044\u3044\u306d":"\u30ec\u30d3\u30e5\u30fc",component:s.b,to:"/account/"+e,value:"/account/"+e},e)})):e.tabChoice.map((function(e){return Object(P.jsx)(yt.a,{style:t,label:e},e)}))})},kt={width:100,height:40,fontSize:13,fontWeight:600,borderRadius:50};var St=function(e){var t=Object(b.a)("(min-width:500px)"),n=Object(b.a)("(max-width:320px)"),i=h()((function(){return{all:{width:100,height:40,fontSize:t?13:10,fontWeight:600,color:"#191919",borderRadius:50,"&.MuiButton-outlined":{border:"1px solid #191919"},"&:hover":{backgroundColor:"#F2F2F2"}},movie:{width:100,height:40,fontSize:t?13:10,fontWeight:600,color:"#f9320c",borderRadius:50,"&.MuiButton-outlined":{border:"1px solid #f9320c"},"&:hover":{backgroundColor:"#FEE9E6"}},music:{width:100,height:40,fontSize:t?13:10,fontWeight:600,color:"#ffc952",borderRadius:50,"&.MuiButton-outlined":{border:"1px solid #ffc952"},"&:hover":{backgroundColor:"#FEF8E6"}},book:{width:100,height:40,fontSize:t?13:10,fontWeight:600,color:"#00b9f1",borderRadius:50,"&.MuiButton-outlined":{border:"1px solid #00b9f1"},"&:hover":{backgroundColor:"#E5F9FF"}},anime:{width:100,height:40,fontSize:t?13:10,fontWeight:600,color:"#7200da",borderRadius:50,"&.MuiButton-outlined":{border:"1px solid #7200da"},"&:hover":{backgroundColor:"#F2E5FF"}}}}))(),a={width:"100%",backgroundColor:"rgba(255,255,255,0.8)",position:"sticky",top:4===e.tabChoice.length?50:98,zIndex:3},r={width:t?5===e.tabChoice.length?"90%":"80%":"100%",margin:5===e.tabChoice.length&&n?0:"0 auto",padding:"10px 0",display:"flex",justifyContent:"space-between"};function c(t){e.setTabValue(Number(t.currentTarget.value))}return Object(P.jsx)("div",{style:a,children:Object(P.jsx)("div",{style:r,children:e.tabChoice.map((function(t,n){return e.tabValue===n?Object(P.jsx)(Ie.a,{style:kt,variant:"outlined",disabled:!0,children:t},n):Object(P.jsx)(Ie.a,{className:"All"===t?i.all:"\u6620\u753b"===t?i.movie:"\u97f3\u697d"===t?i.music:"\u672c"===t?i.book:"\u30a2\u30cb\u30e1"===t&&i.anime,variant:"outlined",onClick:c,value:n,children:t},n)}))})})},_t=n(37),Ct=n.n(_t),zt=n(68);var It=function(e,t){var n=Object(i.useState)([]),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){if(e){var t="6a1388bb284ba063b2427d12bcfe131a",n=[];fetch("https://api.themoviedb.org/4/search/movie?api_key=".concat(t,"&language=ja&page=1&query=").concat(e)).then((function(e){return e.json()})).then(function(){var e=Object(zt.a)(Ct.a.mark((function e(i){var a,r,o;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===i.results.length?n.push("empty"):a=i.results.length>9?10:i.results.length,r=Ct.a.mark((function e(a){var r;return Ct.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[];case 2:return r=e.sent,e.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(i.results[a].id,"/credits?api_key=").concat(t,"&language=jp")).then((function(e){return e.json()})).then((function(e){return e.crew.forEach((function(e){"Director"===e.job&&r.push(e.name)}))}));case 5:n.push({id:i.results[a].id,image:i.results[a].poster_path&&"https://image.tmdb.org/t/p/w500"+i.results[a].poster_path,title:i.results[a].title,name:r.join(","),date:i.results[a].release_date});case 6:case"end":return e.stop()}}),e)})),o=0;case 3:if(!(o<a)){e.next=8;break}return e.delegateYield(r(o),"t0",5);case 5:o++,e.next=3;break;case 8:c(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[e,t]),r};var Dt=function(e,t){var n=Object(i.useState)([]),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){e&&t&&fetch("http://localhost:3100/music",{method:"POST",body:JSON.stringify({submit:e}),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return c(e)}))}),[e,t]),r};var Rt=function(e,t){var n=Object(i.useState)([]),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){if(e&&t){var n=[];fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(e)).then((function(e){return e.json()})).then((function(e){var t;0===e.totalItems?n.push("empty"):t=e.items.length;for(var i=0;i<t;i++)n.push({id:e.items[i].id,image:e.items[i].volumeInfo.imageLinks&&e.items[i].volumeInfo.imageLinks.thumbnail,title:e.items[i].volumeInfo.title,name:e.items[i].volumeInfo.authors?e.items[i].volumeInfo.authors.join(","):"",date:e.items[i].volumeInfo.publishedDate});c(n)}))}}),[e,t]),r};var Et=function(e,t){var n=Object(i.useState)([]),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){if(e&&t){var n=[];fetch("https://api.annict.com/v1/works?access_token=".concat("ti0kKqrMporP2y8bym_9M0XynAL__LNCyNoNCZPBWHs","&filter_title=").concat(e,"&per_page=10")).then((function(e){return e.json()})).then((function(e){var t;0===e.works.length?n.push("empty"):t=e.works.length;for(var i=0;i<t;i++)n.push({id:e.works[i].id,image:e.works[i].images.recommended_url,title:e.works[i].title,name:e.works[i].media_text,date:e.works[i].season_name_text});c(n)}))}}),[e,t]),r},Nt={width:"100%",padding:5,borderRadius:10},Wt={width:130,height:100,display:"flex",justifyContent:"center"},Ht={maxWidth:130,maxHeight:100,borderRadius:5},Bt={width:"calc(100% - 130px)",height:100,paddingRight:10,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center"},Ft={display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",maxHeight:"40"},Pt={color:"#757575"};var Tt=function(e){var t=Object(o.f)(),n=Object(i.useContext)(Ki),a=Object(i.useState)(!1),r=Object(l.a)(a,2),c=r[0],s=r[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(G.a,{style:Nt,button:!0,onClick:function(){if(e.search){var i=e.item.id+"-"+e.searchGenru;t.push("/work/"+i)}else"empty"===n?s(!0):t.push("/review/write",{genru:e.searchGenru,image:e.item.image,title:e.item.title,name:e.item.name,date:e.item.date,id:e.item.id})},children:[Object(P.jsx)("div",{style:Wt,children:e.item.image?Object(P.jsx)("img",{style:Ht,src:e.item.image,alt:"\u4f5c\u54c1"}):Object(P.jsx)(ne.a,{style:{fontSize:100}})}),Object(P.jsxs)(X.a,{style:Bt,children:[Object(P.jsx)(m.a,{style:Ft,variant:"h5",gutterBottom:!0,children:e.item.title}),Object(P.jsx)(m.a,{variant:"h5",children:e.item.name}),Object(P.jsx)(m.a,{style:Pt,variant:"h6",children:e.item.date})]})]}),c&&Object(P.jsx)(Be,{})]})},Mt=n(137),Lt=n.n(Mt),At=n(136),Vt=n.n(At),Jt={height:50,width:50},qt={height:30,width:30};var Gt=function(e){var t=Object(i.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){e.follow&&r(!0)}),[e.follow]),Object(P.jsx)(p.a,{style:Jt,color:"primary",onClick:function(t){t.stopPropagation(),r(!a);var n={user_id:e.user_id,follower_id:e.follower_id};a?fetch("http://localhost:3100/unFollow",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).catch((function(){return r(a)})):fetch("http://localhost:3100/follow",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).catch((function(){return r(a)}))},children:a?Object(P.jsx)(Vt.a,{style:qt}):Object(P.jsx)(Lt.a,{style:qt})})},Qt={width:"100%",minHeight:100,borderRadius:5},Ut={width:60,height:"auto"},Xt={minHeight:50,width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},Zt={fontSize:18,fontWeight:600},Kt={fontSize:15},Yt={fontSize:15,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};var $t=function(e){var t=Object(i.useContext)(Ki),n=Object(o.f)();return Object(P.jsxs)(G.a,{style:Qt,button:!0,onClick:function(){n.push("/account/"+e.item.user_id)},children:[Object(P.jsx)(Q.a,{style:{marginRight:20},children:Object(P.jsx)(U.a,{style:Ut,src:e.item.picture,alt:"\u30a2\u30a4\u30b3\u30f3"})}),Object(P.jsx)(X.a,{primary:Object(P.jsxs)("div",{style:Xt,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(m.a,{style:Zt,children:e.item.user_name}),Object(P.jsxs)(m.a,{style:Kt,children:["@",e.item.user_id]})]}),"empty"!==t&&t.user_id!==e.item.user_id&&Object(P.jsx)(Gt,{follow:e.item.follow_id,follower_id:e.item.user_id,user_id:t.user_id})]}),secondary:Object(P.jsx)(m.a,{style:Yt,children:e.item.profile})})]})},en=n(255);function tn(e){var t;switch(e.value){case 0:t=It(e.children,e.value);break;case 1:t=Dt(e.children,e.value);break;case 2:t=Rt(e.children,e.value);break;case 3:t=Et(e.children,e.value)}return t[0]?"empty"===t[0]?"":Object(P.jsx)(ze.a,{style:{padding:0},children:t.map((function(t){return Object(P.jsx)(Tt,{item:t,searchGenru:e.value,search:!0},t.id)}))}):Object(P.jsx)(en.a,{style:{margin:50}})}function nn(e){var t=at(e.children,e.value);return t?"empty"===t[0]?"":Object(P.jsx)(ze.a,{style:{padding:0},children:t.map((function(e){return Object(P.jsx)($t,{item:e},e.user_id)}))}):Object(P.jsx)(en.a,{style:{margin:50}})}function an(e){var t=e.children,n=e.value,i=e.index,a=Object(nt.a)(e,["children","value","index"]);return Object(P.jsx)("div",Object(tt.a)(Object(tt.a)({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},a),{},{children:n===i&&Object(P.jsx)(tn,{value:n,children:t})}))}function rn(e){var t=Object(i.useState)(0),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(St,{tabValue:a,setTabValue:r,tabChoice:["\u6620\u753b","\u97f3\u697d","\u672c","\u30a2\u30cb\u30e1"]}),[0,1,2,3].map((function(t){return Object(P.jsx)(an,{value:a,index:t,children:e.children},t)}))]})}function cn(e){var t=e.children,n=e.value,i=e.index,a=Object(nt.a)(e,["children","value","index"]);return Object(P.jsx)("div",Object(tt.a)(Object(tt.a)({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},a),{},{children:n===i&&(0===n?Object(P.jsx)(rn,{children:t}):Object(P.jsx)(nn,{children:t,value:n}))}))}function on(e){var t=Object(i.useState)(0),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(wt,{tabValue:a,setTabValue:r,tabChoice:["\u4f5c\u54c1","\u30a2\u30ab\u30a6\u30f3\u30c8"]}),[0,1].map((function(t){return Object(P.jsx)(cn,{value:a,index:t,children:e.searchSubmit},t)}))]})}var sn=function(){var e=it(),t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(gt,{setSearchSubmit:r,placeholder:"\u4f5c\u54c1\u540d\u3001\u307e\u305f\u306f\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3067\u691c\u7d22\uff01"}),a?Object(P.jsx)(on,{searchSubmit:a}):e?Object(P.jsx)(Ot,{user:e.user,margin:!0}):Object(P.jsx)(en.a,{})]})};var ln=function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){var e=fetch("http://localhost:3100/workRanking").then((function(e){return e.json()})).then((function(e){return e})),t=fetch("http://localhost:3100/likeRanking").then((function(e){return e.json()})).then((function(e){return e})),n=fetch("http://localhost:3100/userRanking").then((function(e){return e.json()})).then((function(e){return e}));Promise.all([e,t,n]).then((function(e){a({work:e[0],like:e[1],user:e[2]})}))}),[]),n},un=Object(ot.a)((function(){return{badge:{width:25,height:25,borderRadius:50,fontSize:13}}})),jn={width:"100%",display:"flex",flexDirection:"row"},dn={width:"calc(100% / 3)",display:"flex",flexDirection:"column",borderRadius:5},hn={maxWidth:"100%",maxHeight:200,borderRadius:5,margin:"auto"},bn={textAlign:"center"},fn={fontSize:15,fontWeight:600,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",maxHeight:"40",lineHeight:1.5},On={width:60,height:"auto",marginBottom:10},mn={fontSize:15,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},pn={fontSize:13,marginBottom:10};var xn=function(e){var t=un(),n=Object(o.f)();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(ct,{text:e.like?"\u6295\u7a3f":"\u4f5c\u54c1",margin:e.margin&&!0,icon:Object(P.jsx)(H.a,{style:{fontSize:30},color:"primary"})}),Object(P.jsx)(ze.a,{style:jn,children:e.work.map((function(i,a){return Object(P.jsxs)(G.a,{style:dn,button:!0,onClick:function(){var e=i.work_id+"-"+i.genru;n.push("/work/"+e)},children:[e.like&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(U.a,{style:On,src:i.picture}),Object(P.jsx)(m.a,{style:mn,children:i.user_name}),Object(P.jsxs)(m.a,{style:pn,children:["@",i.user_id]})]}),Object(P.jsx)(st.a,{style:{height:200},classes:{badge:t.badge},badgeContent:a+1,color:"primary",anchorOrigin:{vertical:"top",horizontal:"left"},children:i.image?Object(P.jsx)("img",{style:hn,src:i.image,alt:i.title}):Object(P.jsx)(ne.a,{style:{width:100,height:"auto"}})}),Object(P.jsxs)(X.a,{style:bn,children:[Object(P.jsx)(m.a,{style:fn,children:i.title}),Object(P.jsx)(m.a,{style:mn,children:i.name})]}),e.like&&Object(P.jsx)(Je.a,{defaultValue:i.star/2,precision:.5,size:"large",readOnly:!0})]},a)}))})]})},gn={width:"calc(100% - 30px)",padding:"50px 0 50px 30px",backgroundColor:"#b71c1c",borderRadius:5},vn={fontSize:18,fontWeight:600,textAlign:"left",color:"white"};var yn=function(){var e=ln();return e?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:gn,children:Object(P.jsxs)(m.a,{style:vn,children:["\u6620\u753b\u3001\u97f3\u697d\u3001\u672c\u3001\u30a2\u30cb\u30e1\u304b\u3089",Object(P.jsx)("br",{}),"\u597d\u304d\u306a\u4f5c\u54c1\u3092\u9078\u3093\u3067\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u30b5\u30a4\u30c8"]})}),Object(P.jsx)(xn,{work:e.work}),Object(P.jsx)(v.a,{}),Object(P.jsx)(xn,{work:e.like,like:!0}),Object(P.jsx)(v.a,{}),Object(P.jsx)(Ot,{user:e.user}),Object(P.jsx)(v.a,{})]}):Object(P.jsx)(en.a,{})};var wn=function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){fetch("http://localhost:3100/workRanking").then((function(e){return e.json()})).then((function(e){return a({work:e})}))}),[]),n};function kn(e){var t;switch(e.value){case 0:t=It(e.children,e.value);break;case 1:t=Dt(e.children,e.value);break;case 2:t=Rt(e.children,e.value);break;case 3:t=Et(e.children,e.value)}return t[0]?"empty"===t[0]?"":Object(P.jsx)(ze.a,{style:{padding:0},children:t.map((function(t){return Object(P.jsx)(Tt,{item:t,searchGenru:e.value},t.id)}))}):Object(P.jsx)(en.a,{style:{margin:50}})}function Sn(e){var t=e.children,n=e.value,i=e.index,a=Object(nt.a)(e,["children","value","index"]);return Object(P.jsx)("div",Object(tt.a)(Object(tt.a)({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},a),{},{children:n===i&&Object(P.jsx)(kn,{value:n,children:t})}))}function _n(e){var t=Object(i.useState)(0),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(St,{tabValue:a,setTabValue:r,tabChoice:["\u6620\u753b","\u97f3\u697d","\u672c","\u30a2\u30cb\u30e1"]}),[0,1,2,3].map((function(t){return Object(P.jsx)(Sn,{value:a,index:t,children:e.searchSubmit},t)}))]})}var Cn=function(){var e=wn(),t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(gt,{setSearchSubmit:r,placeholder:"\u30ec\u30d3\u30e5\u30fc\u3057\u305f\u3044\u4f5c\u54c1\u3092\u691c\u7d22\uff01"}),a?Object(P.jsx)(_n,{searchSubmit:a}):e?Object(P.jsx)(xn,{work:e.work,margin:!0}):Object(P.jsx)(en.a,{})]})};var zn=function(e){var t={width:100,height:40,fontSize:15};return e.disabled?Object(P.jsx)(Ie.a,{disabled:!0,style:t,color:e.color,variant:"contained",disableElevation:!0,fontSize:"large",endIcon:e.endIcon&&e.endIcon,onClick:e.pushSubmit,children:e.text}):Object(P.jsx)(Ie.a,{style:t,color:e.color,variant:"contained",disableElevation:!0,fontSize:"large",endIcon:e.endIcon&&e.endIcon,onClick:e.pushSubmit,children:e.text})},In=n(256),Dn=n(261),Rn=n(257),En={backgroundColor:"hsla(0, 0%, 100%, 0.90)"},Nn={fontSize:18,textAlign:"center"},Wn={fontSize:15,textAlign:"center"},Hn={fontSize:13,color:"#6e6e6e",textAlign:"center"},Bn={display:"flex",flexDirection:"column",alignItems:"center"},Fn={height:"auto",width:"100%",marginBottom:5},Pn={color:"black",fontSize:15},Tn={marginRight:0,marginBottom:10,fontSize:15,userSelect:"none"},Mn={fontSize:15,margin:0},Ln={fontSize:35,marginBottom:20};var An=function(){var e=Object(o.g)().state,t=Object(ot.a)((function(){return{dialog:{maxWidth:678,"&.MuiDialog-root":{zIndex:"2 !important",margin:"50px auto 60px auto"}},dialogTitle:{"&.MuiDialogTitle-root":{paddingBottom:0}},content:{"&.MuiDialogContent-root":{paddingBottom:16}}}})),n={maxWidth:678,margin:"0 auto",backgroundImage:"url(".concat(e.image,")"),backgroundColor:"#999999",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},a=t(),r=Object(i.useState)(""),c=Object(l.a)(r,2),s=c[0],u=c[1],j=Object(i.useState)(0),d=Object(l.a)(j,2),h=d[0],b=d[1],f=Object(i.useState)(0),O=Object(l.a)(f,2),p=O[0],x=O[1],g=Object(i.useState)(!1),v=Object(l.a)(g,2),y=v[0],w=v[1],k=Object(o.f)(),S=Object(i.useContext)(Ki);return Object(P.jsxs)(_e.a,{PaperProps:{style:En},BackdropProps:{style:n},className:a.dialog,fullWidth:!0,maxWidth:"lg",open:!0,scroll:"body",children:[Object(P.jsx)(Ce.a,{className:a.dialogTitle,children:Object(P.jsx)(m.a,{style:Nn,children:e.title})}),Object(P.jsxs)(In.a,{className:a.content,children:[Object(P.jsx)(m.a,{style:Wn,variant:"h5",children:e.name}),Object(P.jsx)(m.a,{style:Hn,variant:"h6",children:e.date}),Object(P.jsxs)("form",{style:Bn,children:[Object(P.jsx)(Dn.a,{style:Fn,InputProps:{style:Pn},placeholder:"\u4f5c\u54c1\u3092\u30ec\u30d3\u30e5\u30fc\u3059\u308b\u3002",multiline:!0,rows:15,onChange:function(e){u(e.target.value)}}),Object(P.jsxs)(m.a,{variant:"h5",style:{marginBottom:10},children:["(",s.length,"/1000)"]}),Object(P.jsx)(ue.a,{style:Tn,control:Object(P.jsx)(Rn.a,{color:"primary",onChange:function(){b(0===h?1:0)}}),label:Object(P.jsx)(m.a,{style:Mn,children:"\u30cd\u30bf\u30d0\u30ec"})}),Object(P.jsx)(Je.a,{style:Ln,precision:.5,name:"unique-rating",onChange:function(e,t){x(t)}}),Object(P.jsx)(zn,{pushSubmit:function(t){t.preventDefault();var n={user_id:S.user_id,work_id:e.id,review:s,genru:e.genru,neta:h,star:0===p?null:2*p,title:e.title,name:e.name,image:e.image,date:e.date};fetch("http://localhost:3100/review",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.text()})).then((function(e){"success"===e&&k.push("/timeline")})).catch((function(){return w(!0)}))},text:"\u6295\u7a3f",color:"primary",endIcon:Object(P.jsx)(H.a,{})}),y&&Object(P.jsx)(m.a,{style:{marginTop:10,fontSize:15,color:"red"},children:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002"})]})]})]})};var Vn=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(o.a,{exact:!0,path:"/review",component:Cn}),Object(P.jsx)(o.a,{path:"/review/write",component:An})]})};var Jn=function(e,t){var n=Object(i.useContext)(Ki),a=Object(i.useState)(""),r=Object(l.a)(a,2),c=r[0],o=r[1],s=Object(i.useState)(!0),u=Object(l.a)(s,2),j=u[0],d=u[1];return Object(i.useEffect)((function(){if(e){var i={user_id:n.user_id,account_id:e.user_id,page:t};fetch("http://localhost:3100/myPosts",{method:"POST",body:JSON.stringify(i),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){o(0===t?e:function(t){return[].concat(Object(J.a)(t),Object(J.a)(e))}),0===e.length&&d(!1)}))}}),[e,t,n.user_id]),{postData:c,hasMore:j}};var qn=function(e,t){var n=Object(i.useState)(""),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){if(t===e.user_id)c(e);else{var n={id:t,user_id:e.user_id};fetch("http://localhost:3100/profile",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){c(e[0])}))}}),[e,t]),r},Gn={width:"100%",minHeight:100,borderRadius:5},Qn={minHeight:50,width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},Un={width:80,height:80,marginRight:10},Xn={fontSize:18,fontWeight:600},Zn={fontSize:15},Kn={fontSize:15,padding:"0 16px 0"},Yn={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start",color:"black"};var $n=function(e){var t=Object(o.g)();return Object(i.useEffect)((function(){t.state&&t.state.referrer}),[t.state]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(G.a,{style:Gn,children:[Object(P.jsx)(Q.a,{style:{marginRight:20},children:Object(P.jsx)(U.a,{style:Un,src:e.accountData.picture,alt:"\u30e6\u30fc\u30b6\u30fc\u30a2\u30a4\u30b3\u30f3"})}),Object(P.jsx)(X.a,{primary:Object(P.jsxs)("div",{style:Qn,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(m.a,{style:Xn,children:e.accountData.user_name}),Object(P.jsx)(m.a,{style:Zn,children:e.accountData.user_id})]}),e.accountData.user_id!==e.user_id&&Object(P.jsx)(Gt,{follow:e.accountData.follow_id,follower_id:e.accountData.user_id,user_id:e.user_id})]}),secondary:Object(P.jsxs)("div",{style:Yn,children:[Object(P.jsx)(m.a,{style:{fontSize:15},children:e.accountData.follow}),Object(P.jsx)(m.a,{style:{marginRight:10,fontSize:13,paddingTop:3},children:"\u30d5\u30a9\u30ed\u30fc"}),Object(P.jsx)(m.a,{style:{fontSize:15},children:e.accountData.follower}),Object(P.jsx)(m.a,{style:{fontSize:13,paddingTop:3},children:"\u30d5\u30a9\u30ed\u30ef\u30fc"})]})})]}),Object(P.jsx)(m.a,{style:Kn,children:e.accountData.profile})]})},ei=n(258),ti=n(259),ni=n(81),ii=h()((function(){return{base:{position:"absolute",width:"100%",height:"100%",fontSize:15,display:"flex",flexDirection:"column",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:2,visibility:"hidden"},hover:{"&:hover":{"& $base":{visibility:"visible"}}}}})),ai={width:"auto",height:"calc(100% - 65px)"},ri={fontSize:15,padding:"25px 0 0"};function ci(e){var t=Object(o.f)(),n=ii();return Object(P.jsx)(ei.a,{cols:3,children:e.postData.map((function(i,a){return e.postData.length!==a+1?Object(P.jsxs)(ti.a,{className:n.hover,children:[Object(P.jsxs)(ni.a,{className:n.base,onClick:function(){var e=i.work_id+"-"+i.genru;t.push("/work/"+e)},children:[i.title,0!==i.star&&Object(P.jsx)(Je.a,{defaultValue:i.star/2,precision:.5,size:"large",readOnly:!0})]}),i.image?Object(P.jsx)("img",{src:i.image,alt:i.title}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(m.a,{style:ri,children:i.title}),Object(P.jsx)(ne.a,{style:ai})]})]},i.review_id):Object(P.jsxs)(ti.a,{className:n.hover,ref:e.lastElementRef&&e.lastElementRef,children:[Object(P.jsxs)(ni.a,{className:n.base,onClick:function(){var e=i.work_id+"-"+i.genru;t.push("/work/"+e)},children:[i.title,0!==i.star&&Object(P.jsx)(Je.a,{defaultValue:i.star/2,precision:.5,size:"large",readOnly:!0})]}),i.image?Object(P.jsx)("img",{src:i.image,alt:i.title}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(m.a,{style:ri,children:i.title}),Object(P.jsx)(ne.a,{style:ai})]})]},i.review_id)}))})}function oi(e){var t=e.children,n=e.value,i=e.index,a=Object(nt.a)(e,["children","value","index"]);if(n===i&&t&&0!==n)var r=t.filter((function(e){return e.genru===n-1}));return Object(P.jsx)("div",Object(tt.a)(Object(tt.a)({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},a),{},{children:n===i&&Object(P.jsx)(ci,{postData:0===n?t:r,lastElementRef:e.lastElementRef})}))}var si=function(e){var t=Object(i.useState)(0),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(St,{tabValue:a,setTabValue:r,tabChoice:["All","\u6620\u753b","\u97f3\u697d","\u672c","\u30a2\u30cb\u30e1"]}),[0,1,2,3,4].map((function(t){return Object(P.jsx)(oi,{value:a,index:t,lastElementRef:e.lastElementRef,children:e.postData},t)}))]})};var li=function(e,t){var n=Object(i.useContext)(Ki),a=Object(i.useState)([]),r=Object(l.a)(a,2),c=r[0],o=r[1],s=Object(i.useState)(!0),u=Object(l.a)(s,2),j=u[0],d=u[1];return Object(i.useEffect)((function(){if(e){var i={user_id:n.user_id,account_id:e.user_id,page:t};fetch("http://localhost:3100/favorites",{method:"POST",body:JSON.stringify(i),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){o(0===t?e:function(t){return[].concat(Object(J.a)(t),Object(J.a)(e))}),0===e.length&&d(!1)}))}}),[e,t,n.user_id]),{postData:c,hasMore:j}};var ui=function(e){var t=Object(i.useState)(0),n=Object(l.a)(t,2),a=n[0],r=n[1],c=Object(i.useRef)(),o=li(e.accountData,a),s=o.postData,u=o.hasMore,j=Object(i.useCallback)((function(e){c.current&&c.current.disconnect(),c.current=new IntersectionObserver((function(e){e[0].isIntersecting&&u&&r((function(e){return e+1}))})),e&&c.current.observe(e)}),[u]);return s&&Object(P.jsx)(Ye,{postData:s,accountData:e.accountData,lastElementRef:j})};var ji=function(){var e=Object(o.g)(),t=Object(i.useContext)(Ki),n=Object(o.h)(),a=Object(i.useState)(n.id),r=Object(l.a)(a,2),c=r[0],s=r[1],u=Object(i.useState)(0),j=Object(l.a)(u,2),d=j[0],h=j[1],b=Object(i.useState)(e.pathname),f=Object(l.a)(b,2),O=f[0],m=f[1],p=[c,c+"/works",c+"/likes"],x=Object(i.useRef)(),g=qn(t,c),v=Jn(g,d),y=v.postData,w=v.hasMore;Object(i.useEffect)((function(){n.id!==c&&(s(n.id),h(0))}),[n,c]),Object(i.useEffect)((function(){O!==e.pathname&&m(e.pathname)}),[e.pathname,O]);var k=Object(i.useCallback)((function(e){x.current&&x.current.disconnect(),x.current=new IntersectionObserver((function(e){e[0].isIntersecting&&w&&h((function(e){return e+1}))})),e&&x.current.observe(e)}),[w]);return Object(P.jsxs)(P.Fragment,{children:[g&&"empty"!==g&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)($n,{accountData:g,user_id:t.user_id}),Object(P.jsx)(wt,{tabValue:O,setTabValue:m,tabChoice:p,Link:!0})]}),"empty"===g&&Object(P.jsx)($e,{account:!0}),Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{exact:!0,path:"/account/:id",children:y?y.length>0?Object(P.jsx)(Ye,{postData:y,lastElementRef:k}):Object(P.jsx)($e,{timeline:!0}):""}),Object(P.jsx)(o.a,{path:"/account/:id/works",children:y?y.length>0?Object(P.jsx)(si,{postData:y,lastElementRef:k}):Object(P.jsx)($e,{timeline:!0}):""}),Object(P.jsx)(o.a,{path:"/account/:id/likes",children:Object(P.jsx)(ui,{accountData:g,lastElementRef:k})})]})]})},di=n(138),hi=n.n(di),bi=(n(197),n(260)),fi=n(204),Oi={zIndex:8},mi={width:"80%",maxWidth:560,height:500,padding:30},pi={marginBottom:10},xi={width:130,height:130,margin:"auto",marginBottom:10},gi={width:130,height:130,borderRadius:"50%"},vi={width:100,height:40,fontSize:"1.5rem"};function yi(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),a=Object(i.useState)({unit:"%",width:30,aspect:1}),r=Object(l.a)(a,2),c=r[0],o=r[1],s=Object(i.useState)(""),u=Object(l.a)(s,2),j=u[0],d=u[1],h=Object(i.useState)(null),b=Object(l.a)(h,2),f=b[0],O=b[1],m=Object(i.useCallback)((function(e){t.current=e}),[]);return Object(i.useEffect)((function(){if(f&&n.current&&t.current){var e=t.current,i=n.current,a=f,r=e.naturalWidth/e.width,c=e.naturalHeight/e.height,o=i.getContext("2d"),s=window.devicePixelRatio;i.width=a.width*s,i.height=a.height*s,o.setTransform(s,0,0,s,0,0),o.imageSmoothingQuality="high",o.drawImage(e,a.x*r,a.y*c,a.width*r,a.height*c,0,0,a.width,a.height),i.toBlob((function(e){d(e)}),"image/jpeg",1)}}),[f]),Object(P.jsx)(fi.a,{style:Oi,open:!0,children:Object(P.jsx)(bi.a,{onClickAway:function(t){t.currentTarget&&e.setInputImage("")},children:Object(P.jsx)(rt.a,{style:mi,children:Object(P.jsxs)("div",{children:[Object(P.jsx)(hi.a,{style:pi,src:e.inputImage,onImageLoaded:m,crop:c,circularCrop:!0,onChange:function(e){return o(e)},onComplete:function(e){return O(e)}}),Object(P.jsx)("div",{style:xi,children:Object(P.jsx)("canvas",{style:gi,ref:n})}),Object(P.jsx)(Ie.a,{style:vi,color:"primary",variant:"contained",disableElevation:!0,fontSize:"large",onClick:function(){e.setCropResult(j),e.setInputImage("")},children:"\u6c7a\u5b9a"})]})})})})}var wi=n(139),ki=n.n(wi),Si=n(140),_i=n.n(Si),Ci=h()((function(e){return{back:{maxWidth:"100%",minHeight:"100%",padding:"50px 30px","@media(min-width: 678px)":{margin:"0 calc((100% - 678px) / 2)"},backgroundColor:"white",zIndex:5,position:"absolute",top:0,left:0,right:0},cancel:{position:"absolute",top:0,right:10,"@media (mix-width: 600px)":{right:24}},title:{marginBottom:e.spacing(3)},form:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},box:{width:120,height:120,marginBottom:10,position:"relative"},avator:{width:"100%",height:"100%",zIndex:6},hidden:{width:120,height:120,position:"absolute",top:0,left:0,zIndex:7,opacity:0,cursor:"pointer","&:hover":{opacity:.8}},sub:{marginBottom:25},label:{display:"flex",flexDirection:"row",justifyContent:"center"},typo:{marginRight:5},field:{width:"100%",marginBottom:25,"&.MuiInputBase-input":{height:20},"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#b71c1c"},"&.Mui-focused fieldset":{borderColor:"#b71c1c"}}}}}));var zi=function(){var e=Object(i.useContext)(Ki),t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],r=n[1],c=Object(i.useState)(""),o=Object(l.a)(c,2),u=o[0],j=o[1],d=Object(i.useState)(""),h=Object(l.a)(d,2),b=h[0],f=h[1],O=Object(i.useState)(e.user_name),x=Object(l.a)(O,2),g=x[0],v=x[1],y=Object(i.useState)(e.user_id),w=Object(l.a)(y,2),k=w[0],S=w[1],_=Object(i.useState)(e.profile),C=Object(l.a)(_,2),z=C[0],I=C[1],D=Object(i.useState)(""),R=Object(l.a)(D,2),E=R[0],N=R[1],W=Ci(),H=function(){var t=Object(zt.a)(Ct.a.mark((function t(n){var i,r,c,o,s,l,u,j,d,h;return Ct.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.preventDefault();case 2:if(g===e.user_name){t.next=7;break}if(!(g.length<1)){t.next=6;break}return N("nameError"),t.abrupt("return");case 6:case 7:if(k===e.user_id){t.next=13;break}if(!(k.length<5||null===k.match(/^[0-9A-Za-z_-]+$/))){t.next=12;break}return N("idError"),t.abrupt("return");case 12:case 13:if(!b){t.next=55;break}if("https://audience-icons"!==(i=e.picture.slice(0,22))){t.next=24;break}return t.next=19,fetch("http://localhost:3100/delete",{method:"POST",body:JSON.stringify({image:e.picture}),headers:{"Content-type":"application/json"}});case 19:return r=t.sent,t.next=22,r.json();case 22:c=t.sent,o=c.result;case 24:if("deleted"!==o&&"https://audience-icons"===i){t.next=46;break}return t.next=28,new FormData;case 28:return s=t.sent,t.next=31,s.append("icon",b,a);case 31:return t.next=33,fetch("http://localhost:3100/icon",{method:"POST",body:s});case 33:return l=t.sent,t.next=36,l.text();case 36:if("uploadError"===(u=t.sent)){t.next=41;break}j=u,t.next=43;break;case 41:return N("uploadError"),t.abrupt("return");case 43:t.next=54;break;case 46:if(!isFinite(o)){t.next=52;break}return d=Math.round(o/1e3/60/60/24),N(d),t.abrupt("return");case 52:return N("error"),t.abrupt("return");case 54:case 55:return t.next=58,{old_id:e.user_id,picture:j||e.picture,user_name:g,user_id:k,profile:z};case 58:h=t.sent,fetch("http://localhost:3100/setting",{method:"POST",body:JSON.stringify(h),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.text()})).then((function(e){"success"===e?window.location.reload():N("already"===e?"already":"authError")})).catch((function(){N("authError")}));case 60:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[u&&Object(P.jsx)(yi,{setCropResult:f,inputImage:u,setInputImage:j}),Object(P.jsxs)("div",{className:W.back,children:[Object(P.jsx)(p.a,{className:W.cancel,component:s.b,to:"/account/"+e.user_id,children:Object(P.jsx)(ki.a,{style:{fontSize:25}})}),Object(P.jsxs)("form",{className:W.form,onSubmit:H,children:[Object(P.jsx)(m.a,{variant:"h5",gutterBottom:!0,children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"}),Object(P.jsxs)("div",{className:W.box,children:[Object(P.jsx)(U.a,{className:W.avator,src:b?URL.createObjectURL(b):e.picture,alt:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"}),Object(P.jsx)("label",{htmlFor:"picture",children:Object(P.jsx)(U.a,{className:W.hidden,children:Object(P.jsx)(_i.a,{style:{fontSize:30}})})}),Object(P.jsx)("input",{style:{display:"none"},id:"picture",type:"file",accept:"image/png, image/jpeg",onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){return j(t.result)})),t.readAsDataURL(e.target.files[0]),r(e.target.files[0].name.split(/(?=\.[^.]+$)/)[0])}},onClick:function(e){e.target.value=""}})]}),Object(P.jsx)(m.a,{className:W.sub,variant:"subtitle1",color:"primary",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\u306e\u5909\u66f4\u306f30\u65e5\u9593\u306b1\u56de\u306e\u5236\u9650\u304c\u3042\u308a\u307e\u3059\u3002"}),Object(P.jsxs)("div",{className:W.label,children:[Object(P.jsx)(m.a,{className:W.typo,variant:"h5",gutterBottom:!0,children:"\u30e6\u30fc\u30b6\u30fc\u540d"}),Object(P.jsxs)(m.a,{variant:"h5",children:["(",g.length,"/20)"]})]}),Object(P.jsx)(Dn.a,{className:W.field,multiline:!0,defaultValue:e.user_name,variant:"outlined",inputProps:{style:{fontSize:"1.5rem",lineHeight:1},maxLength:20},onChange:function(e){return v(e.target.value)}}),Object(P.jsxs)("div",{className:W.label,children:[Object(P.jsx)(m.a,{className:W.typo,variant:"h5",gutterBottom:!0,children:"\u30e6\u30fc\u30b6\u30fcID"}),Object(P.jsxs)(m.a,{variant:"h5",children:["(",k.length,"/20)"]})]}),Object(P.jsx)(Dn.a,{className:W.field,multiline:!0,defaultValue:e.user_id,variant:"outlined",inputProps:{style:{fontSize:"1.5rem",lineHeight:1},minLength:5,maxLength:20},onChange:function(e){return S(e.target.value)}}),Object(P.jsxs)("div",{className:W.label,children:[Object(P.jsx)(m.a,{className:W.typo,variant:"h5",gutterBottom:!0,children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"}),Object(P.jsxs)(m.a,{variant:"h5",children:["(",z?z.length:0,"/160)"]})]}),Object(P.jsx)(Dn.a,{className:W.field,multiline:!0,rows:5,defaultValue:e.profile,variant:"outlined",inputProps:{style:{fontSize:"1.5rem",lineHeight:1},maxLength:160},onChange:function(e){return I(e.target.value)}}),Object(P.jsx)(m.a,{className:W.sub,variant:"h5",color:"primary",children:(E||0===E)&&(isFinite(E)?"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\u306f"+(30-E)+"\u65e5\u5f8c\u306b\u5909\u66f4\u53ef\u80fd\u3067\u3059\u3002":"idError"===E?"ID\u306f5\u6587\u5b57\u4ee5\u4e0a\u3067\u534a\u89d2\u82f1\u6570\u5b57\u3068\u30cf\u30a4\u30d5\u30f3(-)\u3001\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc(_)\u304c\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002":"nameError"===E?"\u540d\u524d\u306f1\u6587\u5b57\u4ee5\u4e0a\u3067\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002":"uploadError"===E?"\u753b\u50cf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002":"authError"===E?"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306e\u5909\u66f4\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002":"already"===E?"\u3053\u306eID\u306f\u3059\u3067\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u307e\u3059\u3002":"error"===E&&"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002")}),Object(P.jsx)(zn,{pushSubmit:H,color:"primary",text:"\u4fdd\u5b58"})]})]})]})};var Ii=function(e,t,n){var a=Object(i.useContext)(Ki),r=Object(i.useState)(""),c=Object(l.a)(r,2),o=c[0],s=c[1],u=Object(i.useState)(!0),j=Object(l.a)(u,2),d=j[0],h=j[1];return Object(i.useEffect)((function(){if(e&&t){var i={user_id:a.user_id,work_id:e,genru:t,page:n};fetch("http://localhost:3100/workPosts",{method:"POST",body:JSON.stringify(i),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){s(0===n?e:function(t){return[].concat(Object(J.a)(t),Object(J.a)(e))}),0===e.length&&h(!1)}))}}),[e,n,t,a.user_id]),{postData:o,hasMore:d}};var Di=function(e){var t=Object(i.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){if(e){var t="6a1388bb284ba063b2427d12bcfe131a",n=[];fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(t,"&language=ja")).then((function(e){return e.json()})).then(function(){var i=Object(zt.a)(Ct.a.mark((function i(a){return Ct.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(t,"&language=jp")).then((function(e){return e.json()})).then((function(e){e.crew.forEach((function(e){"Director"===e.job&&n.push(e.name)}))}));case 2:r({id:a.id,image:a.poster_path&&"https://image.tmdb.org/t/p/w500"+a.poster_path,title:a.title,name:n.join(","),date:a.release_date,detail:a.overview,url:a.homepage});case 3:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}}),[e]),a};var Ri=function(e){var t=Object(i.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){if(e){var t={id:e};fetch("http://localhost:3100/music",{method:"POST",body:JSON.stringify(t),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return r(e)}))}}),[e]),a};var Ei=function(e){var t=Object(i.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){e&&fetch("https://www.googleapis.com/books/v1/volumes/".concat(e)).then((function(e){return e.json()})).then((function(e){return r({id:e.id,image:e.volumeInfo.imageLinks&&e.volumeInfo.imageLinks.thumbnail,title:e.volumeInfo.title,name:e.volumeInfo.authors?e.volumeInfo.authors.join(","):"",date:e.volumeInfo.publishedDate,detail:e.volumeInfo.description,url:e.volumeInfo.previewLink})}))}),[e]),a};var Ni=function(e){var t=Object(i.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(i.useEffect)((function(){if(e){fetch("https://api.annict.com/v1/works?access_token=".concat("ti0kKqrMporP2y8bym_9M0XynAL__LNCyNoNCZPBWHs","&filter_ids=").concat(e)).then((function(e){return e.json()})).then((function(e){r({id:e.works[0].id,image:e.works[0].images.recommended_url&&e.works[0].images.recommended_url,title:e.works[0].title,name:e.works[0].media_text,date:e.works[0].season_name_text,url:e.works[0].official_site_url&&e.works[0].official_site_url})}))}}),[e]),a};var Wi=function(e,t){var n=Object(i.useState)(null),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){if(e&&t){var n={work_id:e,genru:t};fetch("http://localhost:3100/average",{method:"POST",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()})).then((function(e){return c(e[0].average)}))}}),[e,t]),r},Hi=Object(ot.a)((function(){return{detail:{fontSize:15,margin:"0 16px 16px",display:"-webkit-box",WebkitLineClamp:5,WebkitBoxOrient:"vertical",overflow:"hidden",lineHeight:1.8,maxHeight:135}}})),Bi={height:150,maxWidth:100,marginRight:10},Fi={width:200,maxWidth:300,height:"auto",marginRight:10},Pi={maxHeight:150},Ti={maxHeight:200},Mi={display:"flex",justifyContent:"center"},Li={fontSize:18,fontWeight:600,textAlign:"center"},Ai={fontSize:15,textAlign:"center"},Vi={fontSize:15,color:"#757575",textAlign:"center"},Ji={width:220,margin:"0 auto 16px",display:"flex",justifyContent:"space-between"};var qi=function(e){var t=Object(i.useContext)(Ki),n=Hi(),a=Object(o.f)(),r=Object(b.a)("(min-width:500px)"),c=Wi(e.workData.id,e.genru);function s(){window.open(e.workData.url,"_blank")}return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(G.a,{children:[Object(P.jsx)(Q.a,{children:e.workData.image?Object(P.jsx)("img",{style:r?Fi:Bi,src:e.workData.image,alt:e.workData.title}):Object(P.jsx)(ne.a,{})}),Object(P.jsx)(X.a,{style:r?Ti:Pi,primary:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(m.a,{style:Li,children:e.workData.title}),Object(P.jsx)(m.a,{style:Ai,children:e.workData.name}),Object(P.jsx)(m.a,{style:Vi,children:e.workData.date})]}),secondary:c>0&&Object(P.jsx)("div",{style:Mi,children:Object(P.jsx)(Je.a,{defaultValue:c/2,precision:.5,size:"large",readOnly:!0})})})]}),Object(P.jsx)(m.a,{className:n.detail,children:e.workData.detail}),Object(P.jsxs)("div",{style:Ji,children:[Object(P.jsx)(zn,{text:"\u30ec\u30d3\u30e5\u30fc",color:"primary",pushSubmit:function(){a.push("/review/write",{genru:e.genru,image:e.workData.image,title:e.workData.title,name:e.workData.name,date:e.workData.date,id:e.workData.id})},disabled:"empty"===t&&!0}),e.workData.url?Object(P.jsx)(zn,{text:"\u30b5\u30a4\u30c8\u3078",pushSubmit:s}):Object(P.jsx)(zn,{text:"\u30b5\u30a4\u30c8\u3078",pushSubmit:s,disabled:!0})]})]})};var Gi=function(){var e,t=Object(o.h)(),n=Object(i.useState)(0),a=Object(l.a)(n,2),r=a[0],c=a[1],s=Ii(t.work.split("-")[0],t.work.split("-")[1],r),u=s.postData,j=s.hasMore,d=Object(i.useRef)(),h=Object(i.useCallback)((function(e){d.current&&d.current.disconnect(),d.current=new IntersectionObserver((function(e){e[0].isIntersecting&&j&&c((function(e){return e+1}))})),e&&d.current.observe(e)}),[j]);switch(t.work.split("-")[1]){case"0":e=Di(t.work.split("-")[0]);break;case"1":e=Ri(t.work.split("-")[0]);break;case"2":e=Ei(t.work.split("-")[0]);break;case"3":e=Ni(t.work.split("-")[0])}return Object(P.jsxs)(P.Fragment,{children:[e?Object(P.jsx)(qi,{workData:e,genru:t.work.split("-")[1]}):Object(P.jsx)(en.a,{}),u?u.length>0?Object(P.jsx)(Ye,{postData:u,lastElementRef:h,work:!0}):Object(P.jsx)($e,{timeline:!0}):""]})},Qi=(n(198),n(110)),Ui=n.n(Qi),Xi=n(237),Zi=Ui()({palette:{primary:{main:"#b71c1c",light:"#f05545",dark:"#7f0000"},secondary:{main:"#efebe9",light:"#ffffff",dark:"#bdb9b7"}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Helvetica Neue"',"YuGothic",'"\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN W3"',"Hiragino Kaku Gothic ProN","Arial",'"\u30e1\u30a4\u30ea\u30aa"',"Meiryo","sans-serif"].join(",")},props:{MuiButtonBase:{disableRipple:!0}}});var Ki=Object(i.createContext)(),Yi=function(){var e=j();function t(t){return"empty"!==e?Object(P.jsx)(o.a,{path:t.path,component:t.component}):Object(P.jsx)(Be,{})}return Object(P.jsx)(s.a,{children:Object(P.jsx)(Xi.a,{theme:Zi,children:Object(P.jsx)(Ki.Provider,{value:e,children:Object(P.jsxs)("div",{style:{maxWidth:678,margin:"auto"},children:[Object(P.jsx)(V,{}),"loading"===e?Object(P.jsx)(en.a,{}):Object(P.jsxs)(o.c,{children:[Object(P.jsx)(t,{path:"/timeline",component:et}),Object(P.jsx)(o.a,{path:"/search",component:sn}),Object(P.jsx)(o.a,{exact:!0,path:"/",component:yn}),Object(P.jsx)(o.a,{path:"/review",component:Vn}),Object(P.jsx)(t,{path:"/account/:id",component:ji}),"empty"===e&&Object(P.jsx)(t,{exact:!0,path:"/account"}),Object(P.jsx)(t,{path:"/setting",component:zi}),Object(P.jsx)(o.a,{path:"/work/:work",component:Gi}),Object(P.jsx)(o.a,{component:$e})]})]})})})})},$i="audience2021.jp.auth0.com";c.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(u.a,{domain:$i,clientId:"nQ8SVQlQItAB7ZNyMftWUkoPztAQ7Plp",audience:"https://".concat($i,"/api/v2/"),children:Object(P.jsx)(Yi,{})})}),document.getElementById("root"))}},[[199,1,2]]]);
//# sourceMappingURL=main.fa9dc48e.chunk.js.map